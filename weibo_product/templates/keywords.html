{% extends 'base.html' %}
{% block customstyle %}
     <script src="http://gallery.echartsjs.com/dep/echarts/map/js/world.js"></script>
{% endblock %}
{% load staticfiles %}
{% block content %}
    <div class="row" style="border: solid 1px #39445c;">
        <div id="main" style="width: 45%;height:400px;float: left; margin-right: 5%"></div>
        <script type="text/javascript">
            var myChart = echarts.init(document.getElementById('main'));
            myChart.setOption({
                title: {
                    text: '凤凰网关键字'
                },
                tooltip: {
                    trigger: 'axis',
                    axisPointer: {
                        type: 'shadow'
                    }
                },
                legend: {
                    data:['数量']
                },

                yAxis: {
                    type: 'value',
                },
                xAxis: {
                    type: 'category',
                    data: []
                },
                series: [{
                    name: '数量',
                    type: 'bar',
                    data: []
                }]
            });
            myChart.showLoading();
            $.post("{% url 'keywords' %}", {"type": 1}, function(result){
                 myChart.hideLoading();    //隐藏加载动画
                 myChart.setOption({        //加载数据图表
                                xAxis: {
                                    data: result.keyword
                                },
                                series: [{
                                    // 根据名字对应到相应的系列
                                    name: '数量',
                                    data: result.weight_count
                                }]
                            });
            });
        </script>
        <div id="main2" style="width: 45%;height:400px;float: left; margin-right: 5%"></div>
        <script type="text/javascript">
            var myChart2 = echarts.init(document.getElementById('main2'));
            myChart2.setOption({
                title: {
                    text: '知乎关键字'
                },
                tooltip: {
                    trigger: 'axis',
                    axisPointer: {
                        type: 'shadow'
                    }
                },
                legend: {
                    data:['数量']
                },

                yAxis: {
                    type: 'value',
                },
                xAxis: {
                    type: 'category',
                    data: []
                },
                series: [{
                    name: '数量',
                    type: 'bar',
                    data: []
                }]
            });
            myChart2.showLoading();
            $.post("{% url 'keywords' %}", {"type": 2}, function(result){
                 myChart2.hideLoading();    //隐藏加载动画
                 myChart2.setOption({        //加载数据图表
                                xAxis: {
                                    data: result.keyword
                                },
                                series: [{
                                    // 根据名字对应到相应的系列
                                    name: '数量',
                                    data: result.weight_count
                                }]
                            });
            });
        </script>
    </div>

    <div class="row" style="border: solid 1px #39445c;">
        <div id="main3" style="width: 45%;height:400px;float: left; margin-right: 5%"></div>
        <script type="text/javascript">
            var myChart3 = echarts.init(document.getElementById('main3'));
            myChart3.setOption({
                title: {
                    text: '新浪关键字'
                },
                tooltip: {
                    trigger: 'axis',
                    axisPointer: {
                        type: 'shadow'
                    }
                },
                legend: {
                    data:['数量']
                },

                yAxis: {
                    type: 'value',
                },
                xAxis: {
                    type: 'category',
                    data: []
                },
                series: [{
                    name: '数量',
                    type: 'bar',
                    data: []
                }]
            });
            myChart3.showLoading();
            $.post("{% url 'keywords' %}", {"type": 3}, function(result){
                 myChart3.hideLoading();    //隐藏加载动画
                 myChart3.setOption({        //加载数据图表
                                xAxis: {
                                    data: result.keyword
                                },
                                series: [{
                                    // 根据名字对应到相应的系列
                                    name: '数量',
                                    data: result.weight_count
                                }]
                            });
            });
        </script>
        <div id="main4" style="width: 45%;height:400px;float: left; margin-right: 5%"></div>
        <script type="text/javascript">
            var myChart4 = echarts.init(document.getElementById('main4'));
            myChart4.setOption({
                title: {
                    text: 'CCTV新闻关键字'
                },
                tooltip: {
                    trigger: 'axis',
                    axisPointer: {
                        type: 'shadow'
                    }
                },
                legend: {
                    data:['数量']
                },

                yAxis: {
                    type: 'value',
                },
                xAxis: {
                    type: 'category',
                    data: []
                },
                series: [{
                    name: '数量',
                    type: 'bar',
                    data: []
                }]
            });
            myChart4.showLoading();
            $.post("{% url 'keywords' %}", {"type": 4}, function(result){
                 myChart4.hideLoading();    //隐藏加载动画
                 myChart4.setOption({        //加载数据图表
                                xAxis: {
                                    data: result.keyword
                                },
                                series: [{
                                    // 根据名字对应到相应的系列
                                    name: '数量',
                                    data: result.weight_count
                                }]
                            });
            });
        </script>
    </div>
{% endblock %}

{% block customjs %}
    <script>
    </script>

{% endblock %}


